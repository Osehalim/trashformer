# =========================
# ROBOT CONFIGURATION FILE
# =========================

robot:
  name: "Tracked_Trash_Robot"
  loop_rate_hz: 20   # main control loop frequency

# -------------------------
# POWER & SAFETY
# -------------------------
power:
  battery_voltage: 12.0
  servo_voltage: 6.0
  pi_voltage: 5.0

safety:
  emergency_stop_gpio: 17
  obstacle_stop_distance_cm: 25

# -------------------------
# DRIVE SYSTEM (TRACKS)
# -------------------------
drive:
  type: "tracked"
  controller: "sabertooth"
  serial_port: "/dev/ttyUSB0"
  baudrate: 9600

  limits:
    max_speed: 1.0       # normalized 0.0â€“1.0
    max_turn: 0.8
    accel_limit: 0.05

  motors:
    left:
      channel: 1
      invert: false
    right:
      channel: 2
      invert: true

# -------------------------
# SERVO CONTROLLER (PCA9685)
# -------------------------
servos:
  controller: "PCA9685"
  i2c_address: 0x40
  pwm_frequency: 50

  pulse_width:
    min: 500
    max: 2500

# -------------------------
# ARM CONFIGURATION
# -------------------------
arms:
  enabled_arms: 1   # start with one arm; can change to 2 later

  arm_1:
    name: "primary_arm"
    joints:
      shoulder:
        channel: 0
        min_angle: 0
        max_angle: 180
        safe_angle: 90
      elbow:
        channel: 1
        min_angle: 20
        max_angle: 160
        safe_angle: 90
      wrist:
        channel: 2
        min_angle: 0
        max_angle: 180
        safe_angle: 90
      gripper:
        channel: 3
        open_angle: 20
        closed_angle: 90


# -------------------------
# SENSORS
# -------------------------
sensors:
  tof:
    i2c_address: 0x29
    max_distance_cm: 200

  ultrasonic:
    trigger_gpio: 23
    echo_gpio: 24

  imu:
    type: "MPU6050"
    i2c_address: 0x68

  limit_switches:
    arm_stowed:
      gpio: 5
    transform_locked:
      gpio: 6

# -------------------------
# BEHAVIOR PARAMETERS
# -------------------------
behavior:
  approach_speed: 0.4
  pickup_speed: 0.2
  search_turn_speed: 0.3
